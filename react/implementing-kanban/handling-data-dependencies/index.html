<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta
      name='viewport'
      content='width=device-width, initial-scale=1, maximum-scale=1, minimal-ui' />
    <meta
      name='description'
      content=SurviveJS />
    <meta
      name='keywords'
      content= />
    <title>SurviveJS</title>
    
    <link rel='icon' type='image/png' href='/assets/favicon.png'></link>

    
      <link href="/site.17316cb466d661c9c3c0.css" rel="stylesheet">
    
  </head>
  <body>
    <div><div class="chapter__wrapper"><div class="header-image" style="background-image:url(/d526d6827c577bb4c17f6134fb4a4c27.jpg);"></div><h1 class="post__heading">Gestionado Dependencias de Datos</h1><div class="header-extra"><a href="https://www.flickr.com/photos/61745819@N00/10588140955">Radek Orszewski (CC BY-NC-SA)</a></div><div class="toc-nav__wrapper"><h4 class="search-nav--header">Search</h4><input id="search"/><h4 class="toc-nav--header">Índice</h4><ul class="toc-nav"><li class="toc-intro"><a class="toc-nav__link intro" href="/react/introduction/">Introducción</a></li><li class="toc-part"><a class="toc-nav__link part" href="/react/getting-started/">Comenzando</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/getting-started/introduction-to-react/">Introducción a React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/getting-started/setting-up-the-project/">Configurando el Proyecto</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/getting-started/implementing-notes/">Implementando una Aplicación de Notas</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/getting-started/deleting-notes/">Borrado de Notas</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/getting-started/understanding-react-components/">Comprendiendo los Componentes de React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/getting-started/editing-notes/">Edición de Notas</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/getting-started/styling-notes/">Dando Estilo a la Aplicación de Notas</a></li><li class="toc-part"><a class="toc-nav__link part" href="/react/implementing-kanban/">Implementando Kanban</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/implementing-kanban/react-and-flux/">React y Flux</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/implementing-kanban/implementing-store-and-actions/">Implementando NoteStore y NoteActions</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/implementing-kanban/implementing-persistency/">Implementando Persistencia en localStorage</a></li><li class="toc-chapter"><span class="toc-nav__link toc-nav__link--current chapter">Gestionado Dependencias de Datos</span></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/implementing-kanban/editing-lanes/">Editando los Carriles</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/implementing-kanban/drag-and-drop/">Implementado Arrastrar y Soltar</a></li><li class="toc-part"><a class="toc-nav__link part" href="/react/advanced-techniques/">Técnicas Avanzadas</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/advanced-techniques/testing-react/">Probando React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/advanced-techniques/typing-with-react/">Tipado con React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/advanced-techniques/styling-react/">Aplicando Estilo a React</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/advanced-techniques/structuring-react-projects/">Estructurando Proyectos con React</a></li><li class="toc-part"><a class="toc-nav__link part" href="/react/appendices/">Apéndices</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/appendices/language-features/">Características del Lenguaje</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/appendices/understanding-decorators/">Entendiendo los Decoradores</a></li><li class="toc-chapter"><a class="toc-nav__link chapter" href="/react/appendices/troubleshooting/">Resolución de Problemas</a></li></ul></div><div class="chapter"><div class="post__content"><div class="chapter-content"><p>Hasta ahora hemos desarrollado una aplicación que mantiene las notas en el <code>localStorage</code>. Para hacer algo más parecido a Kanban necesitamos modelar el concepto de <code>Carril</code>. Un <code>Carril</code> es algo que debe ser capaz de almacenar muchas notas y conocer su orden. Una forma de modelar esto es simplemente crear un <code>Carril</code> que contenga un array de identificadores de <code>Nota</code>.</p>
<p>Sin embargo, esta relación puede invertirse. Una <code>Nota</code> puede tener referencia a un <code>Carril</code> utilizando un identificador y almacenando cuál es su posición dentro del <code>Carril</code>. En nuestro caso vamos a utilizar el primer enfoque ya que permite reordenar con más facilidad.</p>
<h2 class="header"><a class="header-anchor" href="#definiendo-carriles" id="definiendo-carriles"></a><span class="text">Definiendo <code>Carriles</code></span><a class="header-anchor-select" href="#definiendo-carriles">#</a></h2>
<p>Como hicimos anteriormente, podemos utilizar la idea de tener dos componentes aquí. Habrá un componente de más alto nivel (en este caso <code>Carriles</code>) y otro de más bajo nivel (<code>Carril</code>). El componente de más alto nivel se encargará de la ordenación de los carriles. Un <code>Carril</code> se renderizará a sí mismo y tendrá las reglas de manipulación básicas.</p>
<p>Al igual que con <code>Notas</code>, vamos a necesitar un conjunto de acciones. De momento es suficiente con crear nuevos carriles así que podemos crear la acción correspondiente como sigue:</p>
<p><strong>app/actions/LaneActions.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> alt <span class="token keyword" >from</span> <span class="token string" >'../libs/alt'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> alt<span class="token punctuation" >.</span><span class="token function" >generateActions</span><span class="token punctuation" >(</span><span class="token string" >'create'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Además vamos a necesitar un <code>LaneStore</code> (almacén de carriles) y un método para poder crearlos. La idea es muy similar al <code>NoteStore</code> que teníamos anteriormente. La función <code>create</code> añadirá un nuevo carril a la lista de carriles. Tras ello, el cambio se propagará a los listeners (es decir, a <code>FinalStore</code> y sus componentes).</p>
<p><strong>app/stores/LaneStore.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> LaneActions <span class="token keyword" >from</span> <span class="token string" >'../actions/LaneActions'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >LaneStore</span> <span class="token punctuation" >{</span>
  <span class="token function" >constructor</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >bindActions</span><span class="token punctuation" >(</span>LaneActions<span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token keyword" >this</span><span class="token punctuation" >.</span>lanes <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
  <span class="token function" >create</span><span class="token punctuation" >(</span>lane<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token comment" spellcheck="true">// Si no hay notas creamos un array vacío</span>
    lane<span class="token punctuation" >.</span>notes <span class="token operator" >=</span> lane<span class="token punctuation" >.</span>notes <span class="token operator" >||</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>

    <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      lanes<span class="token punctuation" >:</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>lanes<span class="token punctuation" >.</span><span class="token function" >concat</span><span class="token punctuation" >(</span>lane<span class="token punctuation" >)</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>Para unir <code>LaneStore</code> con nuestra aplicación usaremos <code>setup</code>:</p>
<p><strong>app/components/Provider/setup.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> storage <span class="token keyword" >from</span> <span class="token string" >'../../libs/storage'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> persist <span class="token keyword" >from</span> <span class="token string" >'../../libs/persist'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> NoteStore <span class="token keyword" >from</span> <span class="token string" >'../../stores/NoteStore'</span><span class="token punctuation" >;</span>
<div class="leanpub-insert">
<span class="token keyword" >import</span> LaneStore <span class="token keyword" >from</span> <span class="token string" >'../../stores/LaneStore'</span><span class="token punctuation" >;</span>
</div>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> alt <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  alt<span class="token punctuation" >.</span><span class="token function" >addStore</span><span class="token punctuation" >(</span><span class="token string" >'NoteStore'</span><span class="token punctuation" >,</span> NoteStore<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<div class="leanpub-insert">
  alt<span class="token punctuation" >.</span><span class="token function" >addStore</span><span class="token punctuation" >(</span><span class="token string" >'LaneStore'</span><span class="token punctuation" >,</span> LaneStore<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</div>

  <span class="token function" >persist</span><span class="token punctuation" >(</span>alt<span class="token punctuation" >,</span> <span class="token function" >storage</span><span class="token punctuation" >(</span>localStorage<span class="token punctuation" >)</span><span class="token punctuation" >,</span> <span class="token string" >'app'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>También necesitaremos un contenedor en el que mostrar nuestros carriles:</p>
<p><strong>app/components/Lanes.jsx</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> React <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> Lane <span class="token keyword" >from</span> <span class="token string" >'./Lane'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>lanes<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span>
  <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lanes"</span><span class="token operator" >></span><span class="token punctuation" >{</span>lanes<span class="token punctuation" >.</span><span class="token function" >map</span><span class="token punctuation" >(</span>lane <span class="token operator" >=</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span>Lane className<span class="token operator" >=</span><span class="token string" >"lane"</span> key<span class="token operator" >=</span><span class="token punctuation" >{</span>lane<span class="token punctuation" >.</span>id<span class="token punctuation" >}</span> lane<span class="token operator" >=</span><span class="token punctuation" >{</span>lane<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
<span class="token punctuation" >)</span>
</code></pre>
<p>Finalmente crearemos un pequeño esqueleto para <code>Carril</code> con el que asegurarnos que nuestra aplicación no se cuelga cuando conectamos <code>Carriles</code> con ella. Más adelante moveremos aquí mucha de la lógica que ahora está presente en <code>App</code>:</p>
<p><strong>app/components/Lane.jsx</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> React <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>lane<span class="token punctuation" >,</span> <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span>
  <span class="token operator" >&lt;</span>div <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props<span class="token punctuation" >}</span><span class="token operator" >></span><span class="token punctuation" >{</span>lane<span class="token punctuation" >.</span>name<span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
<span class="token punctuation" >)</span>
</code></pre>
<h2 class="header"><a class="header-anchor" href="#conectando-carriles-con-app" id="conectando-carriles-con-app"></a><span class="text">Conectando <code>Carriles</code> con <code>App</code></span><a class="header-anchor-select" href="#conectando-carriles-con-app">#</a></h2>
<p>El paso siguiente es hacer hueco para <code>Carriles</code> en <code>App</code>. Simplemente reemplazaremos las referencias a <code>Notas</code> por <code>Carriles</code> y configuraremos las acciones de carriles y su almacén, lo que significa que mucho código antiguo desaparecerá. Cambia <code>App</code> por el código siguiente:</p>
<p><strong>app/components/App.jsx</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> React <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> uuid <span class="token keyword" >from</span> <span class="token string" >'uuid'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> connect <span class="token keyword" >from</span> <span class="token string" >'../libs/connect'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> Lanes <span class="token keyword" >from</span> <span class="token string" >'./Lanes'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> LaneActions <span class="token keyword" >from</span> <span class="token string" >'../actions/LaneActions'</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> App <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>LaneActions<span class="token punctuation" >,</span> lanes<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> addLane <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    LaneActions<span class="token punctuation" >.</span><span class="token function" >create</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      id<span class="token punctuation" >:</span> uuid<span class="token punctuation" >.</span><span class="token function" >v4</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
      name<span class="token punctuation" >:</span> <span class="token string" >'New lane'</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token operator" >&lt;</span>div<span class="token operator" >></span>
      <span class="token operator" >&lt;</span>button className<span class="token operator" >=</span><span class="token string" >"add-lane"</span> onClick<span class="token operator" >=</span><span class="token punctuation" >{</span>addLane<span class="token punctuation" >}</span><span class="token operator" >></span><span class="token operator" >+</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>
      <span class="token operator" >&lt;</span>Lanes lanes<span class="token operator" >=</span><span class="token punctuation" >{</span>lanes<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token function" >connect</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>lanes<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  lanes
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>
  LaneActions
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span>App<span class="token punctuation" >)</span>
</code></pre>
<p>Si pruebas esta implementación en el navegador verás que no hace mucho. Deberías poder añadir nuevos carriles en el Kanban y poder ver el texto &quot;New lane&quot; (nuevo carril) pero eso es todo. Para recuperar la funcionalidad que teníamos con las notas tendremos que centrarnos en modelar <code>Carril</code> más adelante.</p>
<h2 class="header"><a class="header-anchor" href="#modelando-carril" id="modelando-carril"></a><span class="text">Modelando <code>Carril</code></span><a class="header-anchor-select" href="#modelando-carril">#</a></h2>
<p><code>Carril</code> mostrará un nombre y <code>Notas</code> asociadas. El ejemplo que sigue tiene muchos cambios desde nuestra implementación inicial de <code>App</code>. Cambia el contenido del fichero y déjalo como sigue:</p>
<p><strong>app/components/Lane.jsx</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> React <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> uuid <span class="token keyword" >from</span> <span class="token string" >'uuid'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> connect <span class="token keyword" >from</span> <span class="token string" >'../libs/connect'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> NoteActions <span class="token keyword" >from</span> <span class="token string" >'../actions/NoteActions'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> Notes <span class="token keyword" >from</span> <span class="token string" >'./Notes'</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> Lane <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  lane<span class="token punctuation" >,</span> notes<span class="token punctuation" >,</span> NoteActions<span class="token punctuation" >,</span> <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props
<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> editNote <span class="token operator" >=</span> <span class="token punctuation" >(</span>id<span class="token punctuation" >,</span> task<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    NoteActions<span class="token punctuation" >.</span><span class="token function" >update</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>id<span class="token punctuation" >,</span> task<span class="token punctuation" >,</span> editing<span class="token punctuation" >:</span> <span class="token boolean" >false</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> addNote <span class="token operator" >=</span> e <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    e<span class="token punctuation" >.</span><span class="token function" >stopPropagation</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token keyword" >const</span> noteId <span class="token operator" >=</span> uuid<span class="token punctuation" >.</span><span class="token function" >v4</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    NoteActions<span class="token punctuation" >.</span><span class="token function" >create</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      id<span class="token punctuation" >:</span> noteId<span class="token punctuation" >,</span>
      task<span class="token punctuation" >:</span> <span class="token string" >'New task'</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> deleteNote <span class="token operator" >=</span> <span class="token punctuation" >(</span>noteId<span class="token punctuation" >,</span> e<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    e<span class="token punctuation" >.</span><span class="token function" >stopPropagation</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    NoteActions<span class="token punctuation" >.</span><span class="token keyword" >delete</span><span class="token punctuation" >(</span>noteId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> activateNoteEdit <span class="token operator" >=</span> id <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    NoteActions<span class="token punctuation" >.</span><span class="token function" >update</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>id<span class="token punctuation" >,</span> editing<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token operator" >&lt;</span>div <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props<span class="token punctuation" >}</span><span class="token operator" >></span>
      <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-header"</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-add-note"</span><span class="token operator" >></span>
          <span class="token operator" >&lt;</span>button onClick<span class="token operator" >=</span><span class="token punctuation" >{</span>addNote<span class="token punctuation" >}</span><span class="token operator" >></span><span class="token operator" >+</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>
        <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
        <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-name"</span><span class="token operator" >></span><span class="token punctuation" >{</span>lane<span class="token punctuation" >.</span>name<span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
      <span class="token operator" >&lt;</span>Notes
        notes<span class="token operator" >=</span><span class="token punctuation" >{</span>notes<span class="token punctuation" >}</span>
        onNoteClick<span class="token operator" >=</span><span class="token punctuation" >{</span>activateNoteEdit<span class="token punctuation" >}</span>
        onEdit<span class="token operator" >=</span><span class="token punctuation" >{</span>editNote<span class="token punctuation" >}</span>
        onDelete<span class="token operator" >=</span><span class="token punctuation" >{</span>deleteNote<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token function" >connect</span><span class="token punctuation" >(</span>
  <span class="token punctuation" >(</span><span class="token punctuation" >{</span>notes<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    notes
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>
    NoteActions
  <span class="token punctuation" >}</span>
<span class="token punctuation" >)</span><span class="token punctuation" >(</span>Lane<span class="token punctuation" >)</span>
</code></pre>
<p>Si ejecutas la aplicación e intentas añadir notas nuevas verás que algo va mal. Cada nota que añades es compartida por todos los carriles. Si se modifica una nota, los otros carriles se modifican también.</p>
<p><img src="/629981c4c7611bdc404283bc4412ba71.png" alt="Duplicar notas" class="" width="" height="" /></p>
<p>El motivo de por qué ocurre esto es sencillo. Nuestro <code>NoteStore</code> es un singleton, lo que significa que todos los componentes que estén escuchando <code>NoteStore</code> recibirán los mismos datos. Necesitamos resolver este problema de alguna manera.</p>
<h2 class="header"><a class="header-anchor" href="#haciendo-que-carriles-sea-el-responsable-de-notas" id="haciendo-que-carriles-sea-el-responsable-de-notas"></a><span class="text">Haciendo que <code>Carriles</code> sea el Responsable de <code>Notas</code></span><a class="header-anchor-select" href="#haciendo-que-carriles-sea-el-responsable-de-notas">#</a></h2>
<p>Ahora mismo nuestro <code>Carril</code> sólo contiene un array de objetos. Cada uno de estos objetos conoce su <em>id</em> y su <em>nombre</em>. Vamos a necesitar algo más sotisficado.</p>
<p>Cada <code>Carril</code> necesita saber qué <code>Notas</code> le pertenecen. Si un <code>Carril</code> contiene un array de identificadores de <code>Nota</code> podrá filtrar y mostrar sólo las <code>Notas</code> que le pertenecen. En breve implementaremos un esquema que permita esto.</p>
<h3 class="header"><a class="header-anchor" href="#entendiendo-attachtolane-a-adir-al-carril-" id="entendiendo-attachtolane-a-adir-al-carril-"></a><span class="text">Entendiendo <code>attachToLane</code> (añadir al carril)</span><a class="header-anchor-select" href="#entendiendo-attachtolane-a-adir-al-carril-">#</a></h3>
<p>Cuando añadimos una nueva <code>Nota</code> al sistema usando <code>addNote</code>, debemos asegurarnos que está asociada a un <code>Carril</code>. Esta asociación puede ser modelada mediante un método, como por ejemplo <code>LaneActions.attachToLane({laneId: &lt;id&gt;, noteId: &lt;id&gt;})</code>. He aquí un ejemplo de cómo podría funcionar.</p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> addNote <span class="token operator" >=</span> e <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  e<span class="token punctuation" >.</span><span class="token function" >stopPropagation</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

  <span class="token keyword" >const</span> noteId <span class="token operator" >=</span> uuid<span class="token punctuation" >.</span><span class="token function" >v4</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

  NoteActions<span class="token punctuation" >.</span><span class="token function" >create</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    id<span class="token punctuation" >:</span> noteId<span class="token punctuation" >,</span>
    task<span class="token punctuation" >:</span> <span class="token string" >'New task'</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  LaneActions<span class="token punctuation" >.</span><span class="token function" >attachToLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    laneId<span class="token punctuation" >:</span> lane<span class="token punctuation" >.</span>id<span class="token punctuation" >,</span>
    noteId
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>Esta es sólo una forma de gestionar <code>noteId</code>. Podemos llevar la lógica de generación a <code>NoteActions.create</code> y devolver el identificador generado desde allí. Podemos hacerlo mediante una <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promesa</a>, lo cual puede ser muy útil si añadimos un backend a nuestra implementación. Así es como quedaría:</p>
<pre><code class="lang-javascript"><span class="token keyword" >const</span> addNote <span class="token operator" >=</span> e <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  e<span class="token punctuation" >.</span><span class="token function" >stopPropagation</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

  NoteActions<span class="token punctuation" >.</span><span class="token function" >create</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    task<span class="token punctuation" >:</span> <span class="token string" >'New task'</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >then</span><span class="token punctuation" >(</span>noteId <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    LaneActions<span class="token punctuation" >.</span><span class="token function" >attachToLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      laneId<span class="token punctuation" >:</span> lane<span class="token punctuation" >.</span>id<span class="token punctuation" >,</span>
      noteId<span class="token punctuation" >:</span> noteId
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>Hemos declarado una dependencia clara entre <code>NoteActions.create</code> y <code>LaneActions.attachToLane</code>. Esto podría ser una alternativa válida si, especialmente, quieres llevar la implementación más lejos.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>Puedes modelar el API usando parámetros de forma posicional y terminar teniendo <code>LaneActions.attachToLane(laneId, note.id)</code>. Yo prefiero pasar el objeto porque se lee bien y no hay que tener cuidado con el orden.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>Otra forma de gestionar el problema de la dependencia puede ser utilizar una característica del dispacher de Flux conocida como <a href="http://alt.js.org/guide/wait-for/">waitFor</a>. Es mejor evitarlo si puedes. Además, gestores de estado como Redux hacen que sea redundante. Usar <code>Promesas</code> como antes nos puede ayudar.</blockquote><h3 class="header"><a class="header-anchor" href="#configurando-attachtolane" id="configurando-attachtolane"></a><span class="text">Configurando <code>attachToLane</code></span><a class="header-anchor-select" href="#configurando-attachtolane">#</a></h3>
<p>Para comenzar debemos añadir <code>attachToLane</code> a las acciones como hicimos antes:</p>
<p><strong>app/actions/LaneActions.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> alt <span class="token keyword" >from</span> <span class="token string" >'../libs/alt'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> alt<span class="token punctuation" >.</span><span class="token function" >generateActions</span><span class="token punctuation" >(</span>
  <span class="token string" >'create'</span><span class="token punctuation" >,</span> <span class="token string" >'attachToLane'</span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Para poder implementar <code>attachToLane</code> tenemos que buscar un carril que coincida con el identificador del carril que hemos recibido y asociarle el identificador de la nota. Es más, cada nota sólo debe pertenecer a un carril cada vez. Podemos hacer una pequeña comprobación:</p>
<p><strong>app/stores/LaneStore.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> LaneActions <span class="token keyword" >from</span> <span class="token string" >'../actions/LaneActions'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >LaneStore</span> <span class="token punctuation" >{</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<div class="leanpub-insert">
  <span class="token function" >attachToLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>laneId<span class="token punctuation" >,</span> noteId<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      lanes<span class="token punctuation" >:</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>lanes<span class="token punctuation" >.</span><span class="token function" >map</span><span class="token punctuation" >(</span>lane <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
        <span class="token keyword" >if</span><span class="token punctuation" >(</span>lane<span class="token punctuation" >.</span>notes<span class="token punctuation" >.</span><span class="token function" >includes</span><span class="token punctuation" >(</span>noteId<span class="token punctuation" >)</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
          lane<span class="token punctuation" >.</span>notes <span class="token operator" >=</span> lane<span class="token punctuation" >.</span>notes<span class="token punctuation" >.</span><span class="token function" >filter</span><span class="token punctuation" >(</span>note <span class="token operator" >=</span><span class="token operator" >></span> note <span class="token operator" >!==</span> noteId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token punctuation" >}</span>

        <span class="token keyword" >if</span><span class="token punctuation" >(</span>lane<span class="token punctuation" >.</span>id <span class="token operator" >===</span> laneId<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
          lane<span class="token punctuation" >.</span>notes <span class="token operator" >=</span> lane<span class="token punctuation" >.</span>notes<span class="token punctuation" >.</span><span class="token function" >concat</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span>noteId<span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token punctuation" >}</span>

        <span class="token keyword" >return</span> lane<span class="token punctuation" >;</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
</div>
<span class="token punctuation" >}</span>
</code></pre>
<p>Ser únicamente capaz de incluir notas en un carril no es suficiente. También vamos a necesitar poder sacarlas, lo cual ocurre cuando borramos notas.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>En este punto podemos mostrar un mensaje de advertencia cuando tratemos de incluir una nota en un carril que no exista. <code>console.warn</code> será tu amigo en este caso.</blockquote><h3 class="header"><a class="header-anchor" href="#configurando-detachfromlane" id="configurando-detachfromlane"></a><span class="text">Configurando <code>detachFromLane</code></span><a class="header-anchor-select" href="#configurando-detachfromlane">#</a></h3>
<p>Podemos modelar de forma parecida la operación contraria <code>detachFromLane</code> usando un API como el siguiente:</p>
<pre><code class="lang-javascript">LaneActions<span class="token punctuation" >.</span><span class="token function" >detachFromLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>noteId<span class="token punctuation" >,</span> laneId<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
NoteActions<span class="token punctuation" >.</span><span class="token keyword" >delete</span><span class="token punctuation" >(</span>noteId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<blockquote class="tip"><i class="icon-attention-circled"></i>Al igual que con <code>attachToLane</code>, podemos modelar el API usando parámetros de forma posicional para dejarlo de este modo: <code>LaneActions.detachFromLane(laneId, noteId)</code>.</blockquote><p>De nuevo debemos configurar la acción:</p>
<p><strong>app/actions/LaneActions.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> alt <span class="token keyword" >from</span> <span class="token string" >'../libs/alt'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> alt<span class="token punctuation" >.</span><span class="token function" >generateActions</span><span class="token punctuation" >(</span>
  <span class="token string" >'create'</span><span class="token punctuation" >,</span> <span class="token string" >'attachToLane'</span><span class="token punctuation" >,</span> <span class="token string" >'detachFromLane'</span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>La implementación se parece a <code>attachToLane</code>. En este caso, borraremos las notas que se puedan encontrar dentro.</p>
<p><strong>app/stores/LaneStore.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> LaneActions <span class="token keyword" >from</span> <span class="token string" >'../actions/LaneActions'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >LaneStore</span> <span class="token punctuation" >{</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
<div class="leanpub-insert">
  <span class="token function" >detachFromLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>laneId<span class="token punctuation" >,</span> noteId<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >setState</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      lanes<span class="token punctuation" >:</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>lanes<span class="token punctuation" >.</span><span class="token function" >map</span><span class="token punctuation" >(</span>lane <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
        <span class="token keyword" >if</span><span class="token punctuation" >(</span>lane<span class="token punctuation" >.</span>id <span class="token operator" >===</span> laneId<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
          lane<span class="token punctuation" >.</span>notes <span class="token operator" >=</span> lane<span class="token punctuation" >.</span>notes<span class="token punctuation" >.</span><span class="token function" >filter</span><span class="token punctuation" >(</span>note <span class="token operator" >=</span><span class="token operator" >></span> note <span class="token operator" >!==</span> noteId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token punctuation" >}</span>

        <span class="token keyword" >return</span> lane<span class="token punctuation" >;</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
</div>
<span class="token punctuation" >}</span>
</code></pre>
<p>Dado que tenemos la lógica en su lugar, podemos comenzar la conexión con la interfaz de usuario.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i>Es posible que <code>detachFromLane</code> no desvincule nada. Si se detecta este caso puede ser una buena idea usar  <code>console.warn</code> para hacer consciente al desarrollador de lo que ocurre.</blockquote><h3 class="header"><a class="header-anchor" href="#conectando-carril-con-la-l-gica" id="conectando-carril-con-la-l-gica"></a><span class="text">Conectando <code>Carril</code> con la Lógica</span><a class="header-anchor-select" href="#conectando-carril-con-la-l-gica">#</a></h3>
<p>Para hacer que esto funcione necesitamos hacer cambios en un par de sitios:</p>
<ul>
<li>Cuando añadimos una nota, necesitamos <strong>vincularla</strong> con el carril actual.</li>
<li>Cuando borramos una nota, necesitamos <strong>desvincularla</strong> del carril actual.</li>
<li>Cuando renderizamos un carril necesitamos <strong>seleccionar</strong> las notas que le pertenecen. Es importante renderizar las notas en el orden en el cual pertenezcan al carril. Esto requiere de algo de lógica extra.</li>
</ul>
<p>Estos cambios implican modificar <code>Carril</code> como sigue:</p>
<p><strong>app/components/Lane.jsx</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> React <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> uuid <span class="token keyword" >from</span> <span class="token string" >'uuid'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> connect <span class="token keyword" >from</span> <span class="token string" >'../libs/connect'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> NoteActions <span class="token keyword" >from</span> <span class="token string" >'../actions/NoteActions'</span><span class="token punctuation" >;</span>
<div class="leanpub-insert">
<span class="token keyword" >import</span> LaneActions <span class="token keyword" >from</span> <span class="token string" >'../actions/LaneActions'</span><span class="token punctuation" >;</span>
</div>
<span class="token keyword" >import</span> Notes <span class="token keyword" >from</span> <span class="token string" >'./Notes'</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> Lane <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
<div class="leanpub-delete">
  lane<span class="token punctuation" >,</span> notes<span class="token punctuation" >,</span> NoteActions<span class="token punctuation" >,</span> <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props
</div>
<div class="leanpub-insert">
  lane<span class="token punctuation" >,</span> notes<span class="token punctuation" >,</span> LaneActions<span class="token punctuation" >,</span> NoteActions<span class="token punctuation" >,</span> <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props
</div>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> editNote <span class="token operator" >=</span> <span class="token punctuation" >(</span>id<span class="token punctuation" >,</span> task<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> addNote <span class="token operator" >=</span> e <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    e<span class="token punctuation" >.</span><span class="token function" >stopPropagation</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token keyword" >const</span> noteId <span class="token operator" >=</span> uuid<span class="token punctuation" >.</span><span class="token function" >v4</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    NoteActions<span class="token punctuation" >.</span><span class="token function" >create</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      id<span class="token punctuation" >:</span> noteId<span class="token punctuation" >,</span>
      task<span class="token punctuation" >:</span> <span class="token string" >'New task'</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<div class="leanpub-insert">
    LaneActions<span class="token punctuation" >.</span><span class="token function" >attachToLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      laneId<span class="token punctuation" >:</span> lane<span class="token punctuation" >.</span>id<span class="token punctuation" >,</span>
      noteId
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</div>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> deleteNote <span class="token operator" >=</span> <span class="token punctuation" >(</span>noteId<span class="token punctuation" >,</span> e<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    e<span class="token punctuation" >.</span><span class="token function" >stopPropagation</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<div class="leanpub-insert">
    LaneActions<span class="token punctuation" >.</span><span class="token function" >detachFromLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      laneId<span class="token punctuation" >:</span> lane<span class="token punctuation" >.</span>id<span class="token punctuation" >,</span>
      noteId
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</div>
    NoteActions<span class="token punctuation" >.</span><span class="token keyword" >delete</span><span class="token punctuation" >(</span>noteId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> activateNoteEdit <span class="token operator" >=</span> id <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    NoteActions<span class="token punctuation" >.</span><span class="token function" >update</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>id<span class="token punctuation" >,</span> editing<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token operator" >&lt;</span>div <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props<span class="token punctuation" >}</span><span class="token operator" >></span>
      <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-header"</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-add-note"</span><span class="token operator" >></span>
          <span class="token operator" >&lt;</span>button onClick<span class="token operator" >=</span><span class="token punctuation" >{</span>addNote<span class="token punctuation" >}</span><span class="token operator" >></span><span class="token operator" >+</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>
        <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
        <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-name"</span><span class="token operator" >></span><span class="token punctuation" >{</span>lane<span class="token punctuation" >.</span>name<span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
      <span class="token operator" >&lt;</span>Notes
<div class="leanpub-delete">
        notes<span class="token operator" >=</span><span class="token punctuation" >{</span>notes<span class="token punctuation" >}</span>
</div>
<div class="leanpub-insert">
        notes<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token function" >selectNotesByIds</span><span class="token punctuation" >(</span>notes<span class="token punctuation" >,</span> lane<span class="token punctuation" >.</span>notes<span class="token punctuation" >)</span><span class="token punctuation" >}</span>
</div>
        onNoteClick<span class="token operator" >=</span><span class="token punctuation" >{</span>activateNoteEdit<span class="token punctuation" >}</span>
        onEdit<span class="token operator" >=</span><span class="token punctuation" >{</span>editNote<span class="token punctuation" >}</span>
        onDelete<span class="token operator" >=</span><span class="token punctuation" >{</span>deleteNote<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<div class="leanpub-insert">
<span class="token keyword" >function</span> <span class="token function" >selectNotesByIds</span><span class="token punctuation" >(</span>allNotes<span class="token punctuation" >,</span> noteIds <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// `reduce` es un método poderoso que nos permite</span>
  <span class="token comment" spellcheck="true">// agrupar datos. Puedes implementar filter` y `map`</span>
  <span class="token comment" spellcheck="true">// dentro de él. Nosotros lo estamos usando para</span>
  <span class="token comment" spellcheck="true">// concatenar notas cuyos id coincidan</span>
  <span class="token keyword" >return</span> noteIds<span class="token punctuation" >.</span><span class="token function" >reduce</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>notes<span class="token punctuation" >,</span> id<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span>
    <span class="token comment" spellcheck="true">// Concatena ids que encajen al resultado</span>
    notes<span class="token punctuation" >.</span><span class="token function" >concat</span><span class="token punctuation" >(</span>
      allNotes<span class="token punctuation" >.</span><span class="token function" >filter</span><span class="token punctuation" >(</span>note <span class="token operator" >=</span><span class="token operator" >></span> note<span class="token punctuation" >.</span>id <span class="token operator" >===</span> id<span class="token punctuation" >)</span>
    <span class="token punctuation" >)</span>
  <span class="token punctuation" >,</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</div>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token function" >connect</span><span class="token punctuation" >(</span>
  <span class="token punctuation" >(</span><span class="token punctuation" >{</span>notes<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    notes
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>
<div class="leanpub-delete">
    NoteActions
</div>
<div class="leanpub-insert">
    NoteActions<span class="token punctuation" >,</span>
    LaneActions
</div>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >)</span><span class="token punctuation" >(</span>Lane<span class="token punctuation" >)</span>
</code></pre>
<p>Si intentas utilizar la aplicación ahora verás que cada carril es capaz de mantener sus propias notas:</p>
<p><img src="/f01f16d3df447cda5b5f8b7d5aeb490a.png" alt="Separate notes" class="" width="" height="" /></p>
<p>La estructura actual nos permite mantener el singleton y una estructura de datos plana. Lidiar con las referencias es un tanto tedioso, pero es consistente con la arquitectura Flux. Puedes ver el mismo problema en la <a href="https://github.com/survivejs-demos/redux-demo">implementación con Redux</a>. La <a href="https://github.com/survivejs-demos/mobx-demo">implementación con MobX</a> evita el problema completamente.</p>
<blockquote class="tip"><i class="icon-attention-circled"></i><code>selectNotesByIds</code> pudo haber sido escrita utilizando <code>map</code> y <code>find</code>. En ese caso podrías haber acabado utilizando <code>noteIds.map(id =&gt; allNotes.find(note =&gt; note.id === id));</code>. Sin embargo, tendrías que haber utilizado el polyfill <code>find</code> para que funcione en navegadores viejos.</blockquote><blockquote class="tip"><i class="icon-attention-circled"></i>Normalizar los datos puede hacer que <code>selectNotesByIds</code> sea trivial. Si estás usando una solución como Redux, la normalización puede hacer fáciles operaciones como ésta.</blockquote><h2 class="header"><a class="header-anchor" href="#extrayendo-laneheader-cabecera-de-carril-de-carril" id="extrayendo-laneheader-cabecera-de-carril-de-carril"></a><span class="text">Extrayendo <code>LaneHeader</code> (Cabecera de Carril) de <code>Carril</code></span><a class="header-anchor-select" href="#extrayendo-laneheader-cabecera-de-carril-de-carril">#</a></h2>
<p><code>Carril</code> está empezando a ser un componente demasiado grande. Tenemos la oportunidad de partirlo para hacer que nuestra aplicación sea más fácil de mantener. En concreto, la cabecera del carril puede ser un componente por sí mismo. Para comenzar, define <code>LaneHeader</code> basándote en el código actual tal y como sigue:</p>
<p><strong>app/components/LaneHeader.jsx</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> React <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> uuid <span class="token keyword" >from</span> <span class="token string" >'uuid'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> connect <span class="token keyword" >from</span> <span class="token string" >'../libs/connect'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> NoteActions <span class="token keyword" >from</span> <span class="token string" >'../actions/NoteActions'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> LaneActions <span class="token keyword" >from</span> <span class="token string" >'../actions/LaneActions'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token function" >connect</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span>
  NoteActions<span class="token punctuation" >,</span>
  LaneActions
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>lane<span class="token punctuation" >,</span> LaneActions<span class="token punctuation" >,</span> NoteActions<span class="token punctuation" >,</span> <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> addNote <span class="token operator" >=</span> e <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    e<span class="token punctuation" >.</span><span class="token function" >stopPropagation</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token keyword" >const</span> noteId <span class="token operator" >=</span> uuid<span class="token punctuation" >.</span><span class="token function" >v4</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    NoteActions<span class="token punctuation" >.</span><span class="token function" >create</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      id<span class="token punctuation" >:</span> noteId<span class="token punctuation" >,</span>
      task<span class="token punctuation" >:</span> <span class="token string" >'New task'</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    LaneActions<span class="token punctuation" >.</span><span class="token function" >attachToLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      laneId<span class="token punctuation" >:</span> lane<span class="token punctuation" >.</span>id<span class="token punctuation" >,</span>
      noteId
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-header"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props<span class="token punctuation" >}</span><span class="token operator" >></span>
      <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-add-note"</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span>button onClick<span class="token operator" >=</span><span class="token punctuation" >{</span>addNote<span class="token punctuation" >}</span><span class="token operator" >></span><span class="token operator" >+</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
      <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-name"</span><span class="token operator" >></span><span class="token punctuation" >{</span>lane<span class="token punctuation" >.</span>name<span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span>
</code></pre>
<p>Necesitamos conectar el componente que hemos extraido con <code>Carril</code>:</p>
<p><strong>app/components/Lane.jsx</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> React <span class="token keyword" >from</span> <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<div class="leanpub-delete">
<span class="token keyword" >import</span> uuid <span class="token keyword" >from</span> <span class="token string" >'uuid'</span><span class="token punctuation" >;</span>
</div>
<span class="token keyword" >import</span> connect <span class="token keyword" >from</span> <span class="token string" >'../libs/connect'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> NoteActions <span class="token keyword" >from</span> <span class="token string" >'../actions/NoteActions'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> LaneActions <span class="token keyword" >from</span> <span class="token string" >'../actions/LaneActions'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> Notes <span class="token keyword" >from</span> <span class="token string" >'./Notes'</span><span class="token punctuation" >;</span>
<div class="leanpub-insert">
<span class="token keyword" >import</span> LaneHeader <span class="token keyword" >from</span> <span class="token string" >'./LaneHeader'</span><span class="token punctuation" >;</span>
</div>

<span class="token keyword" >const</span> Lane <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  lane<span class="token punctuation" >,</span> notes<span class="token punctuation" >,</span> LaneActions<span class="token punctuation" >,</span> NoteActions<span class="token punctuation" >,</span> <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props
<span class="token punctuation" >}</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> editNote <span class="token operator" >=</span> <span class="token punctuation" >(</span>id<span class="token punctuation" >,</span> task<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    NoteActions<span class="token punctuation" >.</span><span class="token function" >update</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>id<span class="token punctuation" >,</span> task<span class="token punctuation" >,</span> editing<span class="token punctuation" >:</span> <span class="token boolean" >false</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<div class="leanpub-delete">
  <span class="token keyword" >const</span> addNote <span class="token operator" >=</span> e <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    e<span class="token punctuation" >.</span><span class="token function" >stopPropagation</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token keyword" >const</span> noteId <span class="token operator" >=</span> uuid<span class="token punctuation" >.</span><span class="token function" >v4</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    NoteActions<span class="token punctuation" >.</span><span class="token function" >create</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      id<span class="token punctuation" >:</span> noteId<span class="token punctuation" >,</span>
      task<span class="token punctuation" >:</span> <span class="token string" >'New task'</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    LaneActions<span class="token punctuation" >.</span><span class="token function" >attachToLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      laneId<span class="token punctuation" >:</span> lane<span class="token punctuation" >.</span>id<span class="token punctuation" >,</span>
      noteId
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</div>
  <span class="token keyword" >const</span> deleteNote <span class="token operator" >=</span> <span class="token punctuation" >(</span>noteId<span class="token punctuation" >,</span> e<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    e<span class="token punctuation" >.</span><span class="token function" >stopPropagation</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    LaneActions<span class="token punctuation" >.</span><span class="token function" >detachFromLane</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      laneId<span class="token punctuation" >:</span> lane<span class="token punctuation" >.</span>id<span class="token punctuation" >,</span>
      noteId
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    NoteActions<span class="token punctuation" >.</span><span class="token keyword" >delete</span><span class="token punctuation" >(</span>noteId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> activateNoteEdit <span class="token operator" >=</span> id <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
    NoteActions<span class="token punctuation" >.</span><span class="token function" >update</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>id<span class="token punctuation" >,</span> editing<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token operator" >&lt;</span>div <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props<span class="token punctuation" >}</span><span class="token operator" >></span>
<div class="leanpub-delete">
      <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-header"</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-add-note"</span><span class="token operator" >></span>
          <span class="token operator" >&lt;</span>button onClick<span class="token operator" >=</span><span class="token punctuation" >{</span>addNote<span class="token punctuation" >}</span><span class="token operator" >></span><span class="token operator" >+</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>button<span class="token operator" >></span>
        <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
        <span class="token operator" >&lt;</span>div className<span class="token operator" >=</span><span class="token string" >"lane-name"</span><span class="token operator" >></span><span class="token punctuation" >{</span>lane<span class="token punctuation" >.</span>name<span class="token punctuation" >}</span><span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
</div>
<div class="leanpub-insert">
      <span class="token operator" >&lt;</span>LaneHeader lane<span class="token operator" >=</span><span class="token punctuation" >{</span>lane<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
</div>
      <span class="token operator" >&lt;</span>Notes
        notes<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token function" >selectNotesByIds</span><span class="token punctuation" >(</span>notes<span class="token punctuation" >,</span> lane<span class="token punctuation" >.</span>notes<span class="token punctuation" >)</span><span class="token punctuation" >}</span>
        onNoteClick<span class="token operator" >=</span><span class="token punctuation" >{</span>activateNoteEdit<span class="token punctuation" >}</span>
        onEdit<span class="token operator" >=</span><span class="token punctuation" >{</span>editNote<span class="token punctuation" >}</span>
        onDelete<span class="token operator" >=</span><span class="token punctuation" >{</span>deleteNote<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>
</code></pre>
<p>Tras estos cambios tendremos algo con lo que es un poco más fácil trabajar. Podría haber sido posible mantener todo el código en un único componente. A menudo reflexionarás y te darás cuenta de que hay mejores maneras de dividir tus componentes. A menudo la necesidad de reutilizar o de mejorar el rendimiento serán quienes te fuercen a realizar estas divisiones.</p>
<h2 class="header"><a class="header-anchor" href="#conclusi-n" id="conclusi-n"></a><span class="text">Conclusión</span><a class="header-anchor-select" href="#conclusi-n">#</a></h2>
<p>En este capítulo nos las hemos apañado para resolver el problema de gestión de dependencias de datos. Este problema aparece con frecuencia. Cada gestor de estados tiene su propia manera de lidiar con ello. Las alternativas basadas en Flux y Redux esperan que seas tú quien gestione las referencias. Soluciones como MobX integran la gestión de referencias. La normalización de los datos puede hacer que este tipo de operaciones sean más sencillas.</p>
<p>En el próximo capítulo nos centraremos en añadir una funcionalidad que no tenemos en la aplicación: la edición de carriles. También haremos que la aplicación tenga un mejor aspecto. Por suerte mucha de la lógica que necesitamos ya ha sido desarrollada.</p>
</div><div class="social-links"><blockquote class="tip">If you enjoyed this page, consider subscribing to the mailing list below or following <a href="https://twitter.com/survivejs">@survivejs</a> for occasional updates. There is also <a href="/atom.xml">RSS</a> available for old beards (no pun intended).</blockquote><h2 class="subscribe-header">Subscribe to the mailing list</h2><form action="//jster.us7.list-manage.com/subscribe/post?u=ed40c0084a0c5ba31b3365d65&amp;amp;id=b853b8e786" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate social-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><div class="mc-field-group social-input-container"><input type="email" placeholder="Email" value="" name="EMAIL" class="required email" id="mce-EMAIL"/></div><div style="display:none;position:absolute;left:-5000px;"><input type="text" name="b_ed40c0084a0c5ba31b3365d65_b853b8e786" tabindex="-1" value=""/></div><div class="social-subscribe-container"><input type="submit" class="btn button social-subscribe" style="margin-top:1em;margin-bottom:1em;line-height:2em;" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"/></div></div></form></div><div class="new-prevnext"><div class="new-prevnext__prev"><div class="new-prevnext__bg" style="background-image:url(/c20f3f8416e89f58debc98bb3099c9e6.jpg);"></div><span class="new-prevnext__info">Capítulo anterior</span><a class="new-prevnext__link" href="/react/implementing-kanban/implementing-persistency/">Implementando Persistencia en localStorage</a></div><div class="new-prevnext__next"><div class="new-prevnext__bg" style="background-image:url(/223bc5e44691378be72e75fef2a3deb2.jpg);"></div><span class="new-prevnext__info">Pŕoximo capítulo</span><a class="new-prevnext__link" href="/react/implementing-kanban/editing-lanes/">Editando los Carriles</a></div></div><blockquote class="tip"><p>Puedes encontrar este libro en <a href="https://leanpub.com/survivejs-react">Leanpub</a>. Comprando este libro permitirás el desarrollo de más contenido.</p></blockquote><div id="disqus_thread"></div></div></div><div><a class="next-page" title="Editando los Carriles" href="/react/implementing-kanban/editing-lanes/"><i class="icon-right-open"></i></a><a class="previous-page" title="Implementando Persistencia en localStorage" href="/react/implementing-kanban/implementing-persistency/"><i class="icon-left-open"></i></a></div><script type="text/javascript">var disqus_shortname = 'survivejs';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"/><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog/">Leer el blog</a></div><div class="nav__link"><a href="/training/">Formación</a></div><div class="nav__link"><a href="https://leanpub.com/survivejs-react">Compra el ebook</a></div><div class="nav__link"><a href="/"></a></div><div class="nav__link"><a href="https://twitter.com/survivejs">@survivejs</a></div></nav></div><a href="https://github.com/survivejs/site" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="position:absolute;top:0;fill:#000;right:0;"><path class="octo-banner" d="M0 0l115 115h15l12 27 108 108V0z" fill="#fff"></path><path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="-webkit-transform-origin:130px 106px;transform-origin:130px 106px;"></path><path class="octo-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"></path></svg></a><footer><div class="footer-wrapper"><div class="footer-content-wrapper"><div class="footer-social"><h3>Social</h3><ul><li><a href="https://twitter.com/survivejs" target="_blank" rel="noopener noreferrer">@survivejs</a></li><li><a href="http://eepurl.com/bth1v5" target="_blank" rel="noopener noreferrer">Mailing List</a></li><li><a href="https://gitter.im/survivejs" target="_blank" rel="noopener noreferrer">Gitter Chat</a></li><li><a href="https://github.com/survivejs" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://presentations.survivejs.com" target="_blank" rel="noopener noreferrer">Presentations</a></li><li><a href="http://goo.gl/forms/OWdGIOdHm9" target="_blank" rel="noopener noreferrer">Contact</a></li><li><a href="https://github.com/survivejs/ama/issues" target="_blank" rel="noopener noreferrer">Ask Me Anything</a></li></ul></div></div></div></footer><div><div class="gitter-open-chat-button">Need help?</div><script type="text/javascript">
          ((window.gitter = {}).chat = {}).options = {
            showChatByDefault: false,
            activationElement: '.gitter-open-chat-button',
            room: 'survivejs/react'
          };
        </script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script></div></div>

    
  </body>
</html>
